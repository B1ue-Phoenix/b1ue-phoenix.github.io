import{S as p,i as $,s as ee,l as Z,a as J,m as B,n as T,h as y,c as K,p as q,b as v,N as M,O as ke,f as N,g as xe,t as U,d as Re,o as be,I as Pe,J as Ae,K as Ce,L as Se,P as ze,Q as ue,R as Le,w as le,r as se,x as oe,u as me,y as ce,v as ge,B as ie,T as he}from"../../chunks/index-a701284f.js";import{t as Oe}from"../../chunks/i18n-28d0dcc7.js";import{s as Fe,W as Ie,S as Ze,P as Be,N as Te,a as we,b as je,V as qe,O as Ne,M as re,T as de,C as Ve,c as He}from"../../chunks/VertexNormalsHelper-e6efcf72.js";import"../../chunks/preload-helper-c28b9807.js";import"../../chunks/index-46b2d036.js";function _e(i){let t;const e=i[37].default,f=Pe(e,i,i[36],null);return{c(){f&&f.c()},l(u){f&&f.l(u)},m(u,m){f&&f.m(u,m),t=!0},p(u,m){f&&f.p&&(!t||m[1]&32)&&Ae(f,e,u,u[36],t?Se(e,u[36],m,null):Ce(u[36]),null)},i(u){t||(N(f,u),t=!0)},o(u){U(f,u),t=!1},d(u){f&&f.d(u)}}}function Ue(i){let t,e,f,u,m,g,l=i[0].scene&&_e(i);return{c(){t=Z("div"),e=Z("canvas"),f=J(),l&&l.c(),this.h()},l(o){t=B(o,"DIV",{class:!0});var s=T(t);e=B(s,"CANVAS",{class:!0}),T(e).forEach(y),f=K(s),l&&l.l(s),s.forEach(y),this.h()},h(){q(e,"class","svelte-1uqz219"),q(t,"class","container svelte-1uqz219")},m(o,s){v(o,t,s),M(t,e),i[38](e),M(t,f),l&&l.m(t,null),i[39](t),u=!0,m||(g=ke(window,"resize",i[2]),m=!0)},p(o,s){o[0].scene?l?(l.p(o,s),s[0]&1&&N(l,1)):(l=_e(o),l.c(),N(l,1),l.m(t,null)):l&&(xe(),U(l,1,1,()=>{l=null}),Re())},i(o){u||(N(l),u=!0)},o(o){U(l),u=!1},d(o){o&&y(t),i[38](null),l&&l.d(),i[39](null),m=!1,g()}}}function We(i,t,e){let{$$slots:f={},$$scope:u}=t,{background:m=null}=t,{environment:g=null}=t,{fog:l=null}=t,{overrideMaterial:o=null}=t,{precision:s="highp"}=t,{powerPreference:A="default"}=t,{alpha:d=!1}=t,{premultipliedAlpha:C=!0}=t,{antialias:h=!1}=t,{stencil:S=!0}=t,{preserveDrawingBuffer:k=!1}=t,{failIfMajorPerformanceCaveat:w=!1}=t,{depth:_=!0}=t,{logarithmicDepthBuffer:P=!1}=t,{autoClear:E=!0}=t,{autoClearColor:x=!0}=t,{autoClearDepth:D=!0}=t,{autoClearStencil:R=!0}=t,{checkShaderErrors:z=!0}=t,{gammaFactor:L=2}=t,{localClippingEnabled:O=!1}=t,{physicallyCorrectLights:j=!1}=t,{outputEncoding:b=void 0}=t,{clippingPlanes:V=[]}=t,{shadows:I=void 0}=t,{toneMapping:r=Te}=t,{toneMappingExposure:c=1}=t,{width:H=void 0}=t,{height:F=void 0}=t,{pixelRatio:G=typeof devicePixelRatio<"u"?devicePixelRatio:1}=t;function Ee(){return a.renderer.info}let te,ne,Y,ae=null;const ye=n=>n(),Q=()=>{ae||(ae=requestAnimationFrame(()=>{ae=null,X.forEach(ye),a.renderer.render(a.scene,a.camera.object)}))},X=[],a=Fe({canvas:null,scene:null,renderer:null,camera:{object:null,callback:()=>{console.warn("no camera is set")},set:(n,W)=>{e(0,a.camera.object=n,a),e(0,a.camera.callback=W,a),a.controls.callback&&a.controls.callback(a.camera.object,a.canvas),Q()}},controls:{object:null,callback:null,set:n=>{e(0,a.controls.callback=n,a),a.camera.object&&e(0,a.controls.object=n(a.camera.object,a.canvas),a)}},before_render(n){X.push(n),ze(()=>{const W=X.indexOf(n);X.splice(W,1)})},invalidate:Q});be(()=>(e(0,a.renderer=new Ie({canvas:a.canvas,precision:s,powerPreference:A,alpha:d,premultipliedAlpha:C,antialias:h,stencil:S,preserveDrawingBuffer:k,failIfMajorPerformanceCaveat:w,depth:_,logarithmicDepthBuffer:P}),a),e(0,a.scene=new Ze,a),fe(),()=>{console.log("disposing of renderer"),a.renderer.forceContextLoss(),a.renderer.dispose()}));const fe=()=>{H===void 0&&e(34,te=Y.clientWidth/G),F===void 0&&e(35,ne=Y.clientHeight/G)};function De(n){ue[n?"unshift":"push"](()=>{a.canvas=n,e(0,a),e(3,m),e(4,g),e(5,l),e(6,o),e(17,E),e(18,x),e(19,D),e(20,R),e(21,z),e(22,L),e(23,O),e(24,j),e(25,b),e(26,V),e(28,r),e(29,c),e(27,I)})}function Me(n){ue[n?"unshift":"push"](()=>{Y=n,e(1,Y)})}return i.$$set=n=>{"background"in n&&e(3,m=n.background),"environment"in n&&e(4,g=n.environment),"fog"in n&&e(5,l=n.fog),"overrideMaterial"in n&&e(6,o=n.overrideMaterial),"precision"in n&&e(7,s=n.precision),"powerPreference"in n&&e(8,A=n.powerPreference),"alpha"in n&&e(9,d=n.alpha),"premultipliedAlpha"in n&&e(10,C=n.premultipliedAlpha),"antialias"in n&&e(11,h=n.antialias),"stencil"in n&&e(12,S=n.stencil),"preserveDrawingBuffer"in n&&e(13,k=n.preserveDrawingBuffer),"failIfMajorPerformanceCaveat"in n&&e(14,w=n.failIfMajorPerformanceCaveat),"depth"in n&&e(15,_=n.depth),"logarithmicDepthBuffer"in n&&e(16,P=n.logarithmicDepthBuffer),"autoClear"in n&&e(17,E=n.autoClear),"autoClearColor"in n&&e(18,x=n.autoClearColor),"autoClearDepth"in n&&e(19,D=n.autoClearDepth),"autoClearStencil"in n&&e(20,R=n.autoClearStencil),"checkShaderErrors"in n&&e(21,z=n.checkShaderErrors),"gammaFactor"in n&&e(22,L=n.gammaFactor),"localClippingEnabled"in n&&e(23,O=n.localClippingEnabled),"physicallyCorrectLights"in n&&e(24,j=n.physicallyCorrectLights),"outputEncoding"in n&&e(25,b=n.outputEncoding),"clippingPlanes"in n&&e(26,V=n.clippingPlanes),"shadows"in n&&e(27,I=n.shadows),"toneMapping"in n&&e(28,r=n.toneMapping),"toneMappingExposure"in n&&e(29,c=n.toneMappingExposure),"width"in n&&e(30,H=n.width),"height"in n&&e(31,F=n.height),"pixelRatio"in n&&e(32,G=n.pixelRatio),"$$scope"in n&&e(36,u=n.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&121&&a.scene&&(e(0,a.scene.background=m,a),e(0,a.scene.environment=g,a),e(0,a.scene.fog=l,a),e(0,a.scene.overrideMaterial=o,a)),i.$$.dirty[0]&1073610753&&a.renderer&&(e(0,a.renderer.autoClear=E,a),e(0,a.renderer.autoClearColor=x,a),e(0,a.renderer.autoClearDepth=D,a),e(0,a.renderer.autoClearStencil=R,a),e(0,a.renderer.debug.checkShaderErrors=z,a),e(0,a.renderer.gammaFactor=L,a),e(0,a.renderer.localClippingEnabled=O,a),e(0,a.renderer.physicallyCorrectLights=j,a),b!=null&&e(0,a.renderer.outputEncoding=b,a),e(0,a.renderer.clippingPlanes=V,a),e(0,a.renderer.toneMapping=r,a),e(0,a.renderer.toneMappingExposure=c,a),I?(e(0,a.renderer.shadowMap.enabled=!0,a),e(0,a.renderer.shadowMap.autoUpdate=!0,a),e(0,a.renderer.shadowMap.type=I===!0?Be:I,a)):e(0,a.renderer.shadowMap.enabled=!1,a),Q()),i.$$.dirty[0]&1073741825|i.$$.dirty[1]&27&&a.renderer){const n=H!==void 0?H:te,W=F!==void 0?F:ne;a.renderer.setSize(n,W,!1),a.camera.callback(n,W),a.renderer.setPixelRatio(G),Q()}},[a,Y,fe,m,g,l,o,s,A,d,C,h,S,k,w,_,P,E,x,D,R,z,L,O,j,b,V,I,r,c,H,F,G,Ee,te,ne,u,f,De,Me]}class Ge extends p{constructor(t){super(),$(this,t,We,Ue,ee,{background:3,environment:4,fog:5,overrideMaterial:6,precision:7,powerPreference:8,alpha:9,premultipliedAlpha:10,antialias:11,stencil:12,preserveDrawingBuffer:13,failIfMajorPerformanceCaveat:14,depth:15,logarithmicDepthBuffer:16,autoClear:17,autoClearColor:18,autoClearDepth:19,autoClearStencil:20,checkShaderErrors:21,gammaFactor:22,localClippingEnabled:23,physicallyCorrectLights:24,outputEncoding:25,clippingPlanes:26,shadows:27,toneMapping:28,toneMappingExposure:29,width:30,height:31,pixelRatio:32,info:33},null,[-1,-1])}get info(){return this.$$.ctx[33]}}function Ye(i,t,e){let{fov:f=45}=t,{near:u=.1}=t,{far:m=2e3}=t,{zoom:g=1}=t,{viewOffset:l=void 0}=t,{position:o=[0,0,5]}=t,{target:s=[0,0,0]}=t;const{root:A,self:d}=we(new je),C=new qe;return A.camera.set(d,(h,S)=>{e(7,d.aspect=h/S,d),d.updateProjectionMatrix()}),i.$$set=h=>{"fov"in h&&e(0,f=h.fov),"near"in h&&e(1,u=h.near),"far"in h&&e(2,m=h.far),"zoom"in h&&e(3,g=h.zoom),"viewOffset"in h&&e(4,l=h.viewOffset),"position"in h&&e(5,o=h.position),"target"in h&&e(6,s=h.target)},i.$$.update=()=>{i.$$.dirty&255&&(e(7,d.fov=f,d),e(7,d.near=u,d),e(7,d.far=m,d),e(7,d.zoom=g,d),l&&d.setViewOffset(l.fullWidth,l.fullHeight,l.x,l.y,l.width,l.height),d.position.set(o[0],o[1],o[2]),C.set(s[0],s[1],s[2]),d.lookAt(C),d.updateProjectionMatrix(),A.invalidate())},[f,u,m,g,l,o,s,d]}class Je extends p{constructor(t){super(),$(this,t,Ye,null,ee,{fov:0,near:1,far:2,zoom:3,viewOffset:4,position:5,target:6})}}function Ke(i){be(()=>{let t;return requestAnimationFrame(function e(){t=requestAnimationFrame(e),i()}),()=>{cancelAnimationFrame(t)}})}function Qe(i,t,e){let{autoRotate:f=!1}=t,{autoRotateSpeed:u=2}=t,{dampingFactor:m=.05}=t,{enableDamping:g=!1}=t,{enabled:l=!0}=t,{enablePan:o=!0}=t,{enableRotate:s=!0}=t,{enableZoom:A=!0}=t,{keyPanSpeed:d=7}=t,{keys:C={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}}=t,{maxAzimuthAngle:h=1/0}=t,{maxDistance:S=1/0}=t,{maxPolarAngle:k=Math.PI}=t,{maxZoom:w=1/0}=t,{minAzimuthAngle:_=1/0}=t,{minDistance:P=0}=t,{minPolarAngle:E=0}=t,{minZoom:x=0}=t,{mouseButtons:D={LEFT:re.ROTATE,MIDDLE:re.DOLLY,RIGHT:re.PAN}}=t,{panSpeed:R=1}=t,{rotateSpeed:z=1}=t,{screenSpacePanning:L=!0}=t,{touches:O={ONE:de.ROTATE,TWO:de.DOLLY_PAN}}=t,{zoomSpeed:j=1}=t,{target:b=[0,0,0]}=t;const{root:V}=we(),I=Le();let r;return V.controls.set((c,H)=>(e(25,r=new Ne(c,H)),r.addEventListener("start",F=>{I("start",F)}),r.addEventListener("end",F=>{I("end",F)}),r.addEventListener("change",F=>{I("change",F),(!b||r.target.x!==b[0]||r.target.y!==b[1]||r.target.z!==b[2])&&e(0,b=[r.target.x,r.target.y,r.target.z]),V.invalidate()}),r)),Ke(()=>{r&&(f||g)&&r.update()}),i.$$set=c=>{"autoRotate"in c&&e(1,f=c.autoRotate),"autoRotateSpeed"in c&&e(2,u=c.autoRotateSpeed),"dampingFactor"in c&&e(3,m=c.dampingFactor),"enableDamping"in c&&e(4,g=c.enableDamping),"enabled"in c&&e(5,l=c.enabled),"enablePan"in c&&e(6,o=c.enablePan),"enableRotate"in c&&e(7,s=c.enableRotate),"enableZoom"in c&&e(8,A=c.enableZoom),"keyPanSpeed"in c&&e(9,d=c.keyPanSpeed),"keys"in c&&e(10,C=c.keys),"maxAzimuthAngle"in c&&e(11,h=c.maxAzimuthAngle),"maxDistance"in c&&e(12,S=c.maxDistance),"maxPolarAngle"in c&&e(13,k=c.maxPolarAngle),"maxZoom"in c&&e(14,w=c.maxZoom),"minAzimuthAngle"in c&&e(15,_=c.minAzimuthAngle),"minDistance"in c&&e(16,P=c.minDistance),"minPolarAngle"in c&&e(17,E=c.minPolarAngle),"minZoom"in c&&e(18,x=c.minZoom),"mouseButtons"in c&&e(19,D=c.mouseButtons),"panSpeed"in c&&e(20,R=c.panSpeed),"rotateSpeed"in c&&e(21,z=c.rotateSpeed),"screenSpacePanning"in c&&e(22,L=c.screenSpacePanning),"touches"in c&&e(23,O=c.touches),"zoomSpeed"in c&&e(24,j=c.zoomSpeed),"target"in c&&e(0,b=c.target)},i.$$.update=()=>{i.$$.dirty&67108862&&r&&(e(25,r.autoRotate=f,r),e(25,r.autoRotateSpeed=u,r),e(25,r.dampingFactor=m,r),e(25,r.enableDamping=g,r),e(25,r.enabled=l,r),e(25,r.enablePan=o,r),e(25,r.enableRotate=s,r),e(25,r.enableZoom=A,r),e(25,r.keyPanSpeed=d,r),e(25,r.keys=C,r),e(25,r.maxAzimuthAngle=h,r),e(25,r.maxDistance=S,r),e(25,r.maxPolarAngle=k,r),e(25,r.maxZoom=w,r),e(25,r.minAzimuthAngle=_,r),e(25,r.minDistance=P,r),e(25,r.minPolarAngle=E,r),e(25,r.minZoom=x,r),e(25,r.mouseButtons=D,r),e(25,r.panSpeed=R,r),e(25,r.rotateSpeed=z,r),e(25,r.screenSpacePanning=L,r),e(25,r.touches=O,r),e(25,r.zoomSpeed=j,r),r.update()),i.$$.dirty&33554433&&b&&(r.target.x!==b[0]||r.target.y!==b[1]||r.target.z!==b[2])&&(r.target.set(b[0],b[1],b[2]),r.update())},[b,f,u,m,g,l,o,s,A,d,C,h,S,k,w,_,P,E,x,D,R,z,L,O,j,r]}class Xe extends p{constructor(t){super(),$(this,t,Qe,null,ee,{autoRotate:1,autoRotateSpeed:2,dampingFactor:3,enableDamping:4,enabled:5,enablePan:6,enableRotate:7,enableZoom:8,keyPanSpeed:9,keys:10,maxAzimuthAngle:11,maxDistance:12,maxPolarAngle:13,maxZoom:14,minAzimuthAngle:15,minDistance:16,minPolarAngle:17,minZoom:18,mouseButtons:19,panSpeed:20,rotateSpeed:21,screenSpacePanning:22,touches:23,zoomSpeed:24,target:0})}}function ve(i){let t,e,f,u,m;t=new Je({props:{position:i[0]}});const g=i[2].default,l=Pe(g,i,i[3],null);return u=new Xe({props:{enableZoom:!0}}),{c(){le(t.$$.fragment),e=J(),l&&l.c(),f=J(),le(u.$$.fragment)},l(o){oe(t.$$.fragment,o),e=K(o),l&&l.l(o),f=K(o),oe(u.$$.fragment,o)},m(o,s){ce(t,o,s),v(o,e,s),l&&l.m(o,s),v(o,f,s),ce(u,o,s),m=!0},p(o,s){const A={};s&1&&(A.position=o[0]),t.$set(A),l&&l.p&&(!m||s&8)&&Ae(l,g,o,o[3],m?Se(g,o[3],s,null):Ce(o[3]),null)},i(o){m||(N(t.$$.fragment,o),N(l,o),N(u.$$.fragment,o),m=!0)},o(o){U(t.$$.fragment,o),U(l,o),U(u.$$.fragment,o),m=!1},d(o){ie(t,o),o&&y(e),l&&l.d(o),o&&y(f),ie(u,o)}}}function pe(i){let t,e,f,u,m,g,l,o,s=i[1]("l.3d.box",{default:"Epic"})+"",A,d,C,h,S=i[1]("l.3d.cart",{default:"Epic"})+"",k,w;return f=new Ge({props:{background:new Ve(3552831),$$slots:{default:[ve]},$$scope:{ctx:i}}}),{c(){t=Z("main"),e=Z("div"),le(f.$$.fragment),u=J(),m=Z("nav"),g=Z("ol"),l=Z("li"),o=Z("a"),A=se(s),d=J(),C=Z("li"),h=Z("a"),k=se(S),this.h()},l(_){t=B(_,"MAIN",{});var P=T(t);e=B(P,"DIV",{});var E=T(e);oe(f.$$.fragment,E),E.forEach(y),u=K(P),m=B(P,"NAV",{class:!0});var x=T(m);g=B(x,"OL",{class:!0});var D=T(g);l=B(D,"LI",{class:!0});var R=T(l);o=B(R,"A",{href:!0});var z=T(o);A=me(z,s),z.forEach(y),R.forEach(y),d=K(D),C=B(D,"LI",{class:!0});var L=T(C);h=B(L,"A",{href:!0});var O=T(h);k=me(O,S),O.forEach(y),L.forEach(y),D.forEach(y),x.forEach(y),P.forEach(y),this.h()},h(){q(o,"href","/3d/box"),q(l,"class","svelte-12q5gni"),q(h,"href","/3d/cart"),q(C,"class","svelte-12q5gni"),q(g,"class","svelte-12q5gni"),q(m,"class","svelte-12q5gni")},m(_,P){v(_,t,P),M(t,e),ce(f,e,null),M(t,u),M(t,m),M(m,g),M(g,l),M(l,o),M(o,A),M(g,d),M(g,C),M(C,h),M(h,k),w=!0},p(_,[P]){const E={};P&9&&(E.$$scope={dirty:P,ctx:_}),f.$set(E),(!w||P&2)&&s!==(s=_[1]("l.3d.box",{default:"Epic"})+"")&&ge(A,s),(!w||P&2)&&S!==(S=_[1]("l.3d.cart",{default:"Epic"})+"")&&ge(k,S)},i(_){w||(N(f.$$.fragment,_),w=!0)},o(_){U(f.$$.fragment,_),w=!1},d(_){_&&y(t),ie(f)}}}function $e(i,t,e){let f,u;he(i,He,l=>e(0,f=l)),he(i,Oe,l=>e(1,u=l));let{$$slots:m={},$$scope:g}=t;return i.$$set=l=>{"$$scope"in l&&e(3,g=l.$$scope)},[f,u,m,g]}class lt extends p{constructor(t){super(),$(this,t,$e,pe,ee,{})}}export{lt as default};
